<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>hello</title>
</head>

<body>
    <div id="container">
        <h1>[ hello ]</h1>
        <form>
            <div class="input">
                <input type="text" placeholder="Weeknr" id="weeknr" size="17" autofocus="autofocus" readonly />
            </div>
        </form>
    </div>
    <script src="./index.ts"></script>
</body>

</html>

<script>
    function getWeekNumber(d) {
        d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
        d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
        var yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
        var weekNo = Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
        return weekNo;
    }

    document.addEventListener('DOMContentLoaded', (event) => {
        const weeknrInput = document.getElementById('weeknr');
        const currentWeekNumber = getWeekNumber(new Date());
        weeknrInput.value = currentWeekNumber;
    });
</script>